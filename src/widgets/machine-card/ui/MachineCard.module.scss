@use '@/shared/styles/animations';
@use '@/shared/styles/mixins' as *;
@use '@/shared/styles/variables' as *;

.card {
    position: relative;
    display: grid;
    grid-template-rows: 1fr max-content max-content;
    justify-items: center;
    width: 100%;
    height: 228px;
    padding: 8px;
    border-bottom: 2px solid rgba(202, 68, 255, 0.33);
    border-radius: 16px;
    z-index: 10;

    .plate {
        position: absolute;
        bottom: 0;
        width: 100%;
        aspect-ratio: 1 / 0.75;
        overflow: hidden;
        border-radius: 16px;
        background: rgba(0, 0, 0, 0.16);
        z-index: 11;
    }

    .image {
        position: absolute;
        width: 100%;
        z-index: 12;

        filter: blur(2px) grayscale(0.8);
        transition: filter 0.9s ease;

        &.purchased {
            filter: none;
        }
    }

    .displayText {
        position: relative;
        z-index: 13;
        display: grid;
        grid-template-columns: repeat(2, max-content);
        align-items: center;
        gap: 4px;
        height: 36px;
        align-self: self-end;
        color: $font-neon-blue;
        text-shadow:
            0 0 1px rgba($font-neon-blue, 0.6),
            0 0 8px rgba($font-neon-blue, 0.4),
            0 0 16px rgba($font-neon-blue, 0.2);
    }

    .statusText {
        position: relative;
        padding: 0 16px;
        width: 100%;
        height: 36px;
        align-self: self-end;
        align-content: center;
        z-index: 13;
        color: $font-neon-orange;
        font-weight: 700;
        text-shadow:
            0 0 1px rgba($font-neon-orange, 0.6),
            0 0 8px rgba($font-neon-orange, 0.4),
            0 0 16px rgba($font-neon-orange, 0.2);
    }

    .info {
        position: absolute;
        z-index: 13;
        right: 0;
        width: max-content;
        color: $font-neon-orange !important;

        .activationsDisplay {
            height: 36px;
            padding: 0 8px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.08);
        }
    }

    .not_purchased {
    }

    .awaiting {
        background:
            linear-gradient(0deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.04)),
            radial-gradient(80% 80% at 50% -20%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    .in_progress {
        background:
            linear-gradient(
                180deg,
                rgba(0, 0, 0, 0.16) 0%,
                rgba(0, 0, 0, 0.16) 25.48%,
                rgba(202, 68, 255, 0.66) 32.69%,
                #ca44ff 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    .waiting_for_reward {
        background: radial-gradient(80% 80% at 50% -20%, #ca44ff 0%, rgba(0, 0, 0, 0) 100%);
    }

    // Статичные классы для каждого уровня прогресса
    &.progress0 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 0%,
                rgba(0, 0, 0, 0.16) 0%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress10 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 10%,
                rgba(0, 0, 0, 0.16) 10%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress20 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 20%,
                rgba(0, 0, 0, 0.16) 20%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress30 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 30%,
                rgba(0, 0, 0, 0.16) 30%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress40 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 40%,
                rgba(0, 0, 0, 0.16) 40%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress50 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 50%,
                rgba(0, 0, 0, 0.16) 50%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress60 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 60%,
                rgba(0, 0, 0, 0.16) 60%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress70 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 70%,
                rgba(0, 0, 0, 0.16) 70%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress80 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 80%,
                rgba(0, 0, 0, 0.16) 80%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress90 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 90%,
                rgba(0, 0, 0, 0.16) 90%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }

    &.progress100 .in_progress {
        background:
            linear-gradient(
                to top,
                rgba(202, 68, 255, 0.66) 0%,
                #ca44ff 100%,
                rgba(0, 0, 0, 0.16) 100%,
                rgba(0, 0, 0, 0.16) 100%
            ),
            radial-gradient(80% 80% at 50% 0%, rgba(202, 68, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    }
}
